# =======================================================================================
#  ATAJOS DE TECLADO Y VARIABLES
# =======================================================================================

# --------------------------------------------------
# VARIABLES DE ATAJOS
# --------------------------------------------------
$terminal = kitty
# Define la variable '$terminal' para lanzar el emulador de terminal "kitty".

$fileManager = thunar
# Define '$fileManager' para lanzar el gestor de archivos Thunar.

$menu = wofi --show drun
# Define '$menu' para lanzar el menú de aplicaciones con Wofi.

# --------------------------------------------------
# KEYBINDINGS (ATAJOS DE TECLADO)
# --------------------------------------------------

# --- MODIFICADOR PRINCIPAL ---
$mainMod = SUPER
# Define la tecla SUPER (Windows/Command) como modificador principal.

# --- GESTIÓN DE VENTANAS ---
bind = $mainMod, C, killactive,        # Cerrar ventana activa
bind = $mainMod, V, pseudo,            # Activar/desactivar pseudo-tiling
bind = $mainMod, space, togglefloating, # Alternar entre tiling/flotante
bind = $mainMod, J, togglesplit,       # Cambiar orientación de la división
bind = $mainMod, F, fullscreen,        # Pantalla completa
bind = SUPER , w, fullscreen, 1         #hace que la ventana seleccionada vaya al frente y mande a todas a las demas



# --- NAVEGACIÓN ENTRE VENTANAS ---
bind = CONTROL, left, movefocus, l
bind = $CONTROL, right, movefocus, r
bind = $CONTROL, up, movefocus, u
bind = $CONTROL, down, movefocus, d

# --- REUBICAR VENTANAS ---
bind = $mainMod , left, movewindow, l
bind = $mainMod , right, movewindow, r
bind = $mainMod , up, movewindow, u
bind = $mainMod , down, movewindow, d

# --- WORKSPACES ---
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# --- RATÓN ---
bindm = $mainMod, mouse:272, movewindow
     # SUPER + arrastrar botón izq → mover ventana
bindm = $mainMod, mouse:273, resizewindow
   # SUPER + arrastrar botón der → redimensionar

# --- LANZAR PROGRAMAS ---
bind = $mainMod, Z, exec, $terminal
bind = $mainMod, X, exec, $fileManager
#bind = $mainMod, D, exec, GDK_BACKEND=wayland wofi --show drun
bind = $mainMod, D, exec, quickshell ipc -c caelestia call drawers toggle launcher  # Toggle Caelestia launcher

# --- SISTEMA ---
bind = $mainMod, M, exit,                    # Cerrar sesión de Hyprland
bind = $mainMod, L, exec, quickshell ipc -c caelestia call lock lock # Bloqueo de pantalla instantáneo
bindl=,lidswitch,exec,notify-send "Cerrando tapa - bloqueando..." && quickshell ipc -c caelestia call lock lock && sleep 2 && systemctl suspend

# --- CARACTERES ESPECIALES ---
bind = $mainMod, N, exec, wtype ñ

# --- AUDIO ---
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# --- BRILLO (Sincronizado con Caelestia) ---
binde = , XF86MonBrightnessUp, exec, quickshell ipc -c caelestia call brightness set "+10%"
binde = , XF86MonBrightnessDown, exec, quickshell ipc -c caelestia call brightness set "10%-"


# --- CAPTURAS DE PANTALLA ---
bind = $mainMod SHIFT, S, exec, /home/sk1t/.config/hypr/scripts/scripts_hypr/captura-inteligente.sh             # Captura inteligente (área o ventana) al portapapeles
# bind = $mainMod SHIFT, S, exec, /home/sk1t/.config/hypr/scripts/scripts_hypr/captura_region.sh      # Captura de región a archivo
# bind = $mainMod CONTROL, S,  exec,/home/sk1t/.config/hypr/scripts/scripts_hypr/herramienta_capturas.sh save        # Captura de pantalla completa a archivo

# --- JUEGOS / CURSOR ---
bind = $mainMod ALT, Z, exec, hyprctl dispatch confine_pointer lock    # Confina el cursor a la ventana activa
bind = $mainMod ALT, X, exec, hyprctl dispatch confine_pointer unlock  # Libera el cursor

# --- SCRATCHPADS (VENTANAS OCULTAS) ---
bind = $mainMod, R, exec, /home/sk1t/.config/hypr/scripts/scratchpad_music.sh     # Toggle/lanza scratchpad para reproductor de música
bind = $mainMod, T, exec, /home/sk1t/.config/hypr/scripts/scratchpad_calc.sh      # Toggle/lanza scratchpad para calculadora



# Atajos para cambiar entre modo extendido y solo externo
bind = $mainMod SHIFT, A, exec, /home/sk1t/.config/hypr/scripts/scripts_hypr/monitor_manager.sh extend
bind = $mainMod, A, exec, /home/sk1t/.config/hypr/scripts/scripts_hypr/monitor_manager.sh external_only

bind = $mainMod ALT, R, exec, /home/sk1t/.config/hypr/scripts/scripts_hypr/restart_caelestia.sh
bind = $CONTROL SHIFT, B, exec,/home/sk1t/.config/hypr/scripts/scripts_hypr/prender_monitor_suspension.sh

#HYPREXPO
bind = $mainMod, TAB ,hyprexpo:expo, toggle

bind = $mainMod, S, exec,quickshell ipc -c caelestia call picker openFreeze

